# What do all those file extensions mean?
## (and which should I pay attention to?)

### Some starter rules
1. Extensions typically describe the type of file (with some caveats to come below)
2. Probably the most critical set of extensions to understand when working at the command line are those assoiated with: (a) compression, such as _.gz_, _.zip_, _.bz2_, or _.Z_ and (b) archives, such as _.tar_ or _.ar_
3. A file can have more than one extension.  For example, a common combination is "_.tar.gz_" (which signifies a compressed archive)
4. (Frustratingly) extensions are not mandatory and whether or not a program pays attention to the extension depends on the programmer (and frequently the operating system)

### What is compression?
<p>Most files in a computer, **especially** those that consist of text are formatted in a way that is easily read by humans, but that is very inefficient in terms of the amount of memory or diskspace required to store them. The extra space used by these files becomes very important for large files, such as those generated by sequencing machines.   </p>
<p>The topic of file compression could fill up entire books (and has), but all you really need to know is that we can typically convert the information in a text file into a much more "space-efficient" version, often taking up as little as one tenth of the space of the human-readable version.  Many algorithms (and associated programs) have been developed for compression, but the ones that you are most likely to encounter at the command line are: </p>

  - *_gzip_* (or Gnu-Zip), which typically uses the extension "_.gz_"
  - *_zip_*, which typically uses the extensions "_.zip_" or "_.Z_"
  - *_bgzip_*, which typically uses the extensions "_.bgz_" or "_.bz2_"

### Working with compressed files
<p>To compress an uncompressed file with gzip, we just type <code>gzip filename</code>, which will replace <code>filename</code> with <code>filename.gz</code>. To reverse the compression, we have typically have two options <code>gunzip filename.gz</code> or <code>gzip -d filename.gz</code>. In some systems, however, <code>gunzip</code> is not defined, so you must use <code>gzip -d</code>.  Zip and bgzip work much the same.  Remember that you can always get full details on any of these commands by using either <code>man</code> or <code>info</code> or by simply typing <code>gzip --help</code></p>
<p>**Note** if you want to just get a look at what is in a compressed file without actually decompressing the file on disk, you can use the command <code>zcat</code>. So for instance, if I had a compressed sequence file named <code>my_sequences.fastq.gz</code> and I just wanted to get a peek at it, I could use the "piped" commands <code>zcat my_sequences.fastq.gz | head</code>.  <em>Recall that the '|' symbol takes the output of one command and makes it the input to the next command.</em>   This pair of commands will decompress the sequence file and then show the "head" of the resulting output.  Head defaults to the first 10 lines of the file.</p>

### Finally, what should I do with my sequence files?
<p>As a general rule, it's better to keep large files compressed on your computer, as they will use up less disk space that way, and if you need to transfer them to another computer (with scp, ftp, etc), it will go much faster.  ***Unforunately***, while some of the standard computational biology programs can work with sequence files in a "gzipped" or "bgzipped" format, not all can. So for example, I received an email with this error message in it:</p>
<code>STAR --runThreadN 10 --quantMode GeneCounts --genomeDir /home/course/mm10_STAR_index --readFilesIn SRR8937155_1.fastq.gz SRR8937155_2.fastq.gz --outFileNamePrefix SRR8937155_Young_3<br /><br />

ReadAlignChunk_processChunks.cpp:115:processChunks EXITING because of FATAL ERROR in input reads: unknown file format: the read ID should start with @ or ></code>
<p>The STAR alignment program apparently does not have the ability to work with compressed files, so the solution here was to first run the command <code>gzip -d SRR8937155_1.fastq.gz SRR8937155_2.fastq.gz</code> which could decompress the files to <code>SRR8937155_1.fastq.gz</code> and <code>SRR8937155_2.fastq</code>, such that STAR could then be run on the decompressed files.</p>
<p>While I wish I could give you an exhaustive safe list of programs that will work with compressed files, it's really a bit random.  The best bet is to read the program's documentation, or at the very least run the program with the <code>--help</code> option to see what the acceptable input formats are.</p>

### Closing thoughts
- What about image files?  They're typically already pretty efficiently stored in many cases (.jpg, .png, for example).  An image is typically a rectangular grid with each pixel having a description of the color, brightness, transparency for that point.  Most images use a non-human readable form that image viewers intrinsically know how to show.
- Some programs will insist on extensions that match their internal list of "acceptable" file types. Others don't. This requirement is more common in Windows-based software than Mac or linux/unix, but there are again, no hard and fast rules on this.
- Thanks to Elise Courtney for the question and impetus to create this help page.

Questions?  E-mail me (jhgraber(at)mdibl.org) or put a question in the LabCentral documentation.
